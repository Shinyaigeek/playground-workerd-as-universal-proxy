!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var r={},i=(t||{}).decode||o,n=0;for(;n<e.length;){var a=e.indexOf("=",n);if(-1===a)break;var u=e.indexOf(";",n);if(-1===u)u=e.length;else if(u<a){n=e.lastIndexOf(";",a-1)+1;continue}var c=e.slice(n,a).trim();if(void 0===r[c]){var f=e.slice(a+1,u).trim();34===f.charCodeAt(0)&&(f=f.slice(1,-1)),r[c]=s(f,i)}n=u+1}return r},t.serialize=function(e,t,r){var o=r||{},s=o.encode||a;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!n.test(e))throw new TypeError("argument name is invalid");var u=s(t);if(u&&!n.test(u))throw new TypeError("argument val is invalid");var c=e+"="+u;if(null!=o.maxAge){var f=o.maxAge-0;if(isNaN(f)||!isFinite(f))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(f)}if(o.domain){if(!n.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!n.test(o.path))throw new TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){var p=o.expires;if(!function(e){return"[object Date]"===i.call(e)||e instanceof Date}(p)||isNaN(p.valueOf()))throw new TypeError("option expires is invalid");c+="; Expires="+p.toUTCString()}o.httpOnly&&(c+="; HttpOnly");o.secure&&(c+="; Secure");if(o.priority){switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var i=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function a(e){return encodeURIComponent(e)}function s(e,t){try{return t(e)}catch(t){return e}}},function(e,t,r){"use strict";r.r(t);var i=r(0);addEventListener("fetch",e=>{e.respondWith(async function(e){const{url:t}=e.request,{pathname:r}=new URL(t);if("/set_permission"===r){const e=new Response("",{status:301});return e.headers.append("Location","/"),e.headers.append("Cache-Control","no-store"),e.headers.append("Set-Cookie",`Uid=${Math.floor(100*Math.random())}; Path=/; HttpOnly; SameSite=Lax;`),e}const n=Object(i.parse)(e.request.headers.get("Cookie")||""),o=Number(n.Uid),a=o%4;console.log(o,a);const s=new Request("https://7879-61-204-247-129.ap.ngrok.io/",{headers:{"shinyaigeek-profile-access-permission-level":a}});return fetch(s)}(e))})}]);